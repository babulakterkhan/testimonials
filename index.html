<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Image Based Testimonial</title>

<!-- ‡¶¨‡¶æ‡¶Ç‡¶≤‡¶æ ‡¶ì‡ßü‡ßá‡¶¨ ‡¶´‡¶®‡ßç‡¶ü ‡¶Ø‡ßã‡¶ó ‡¶ï‡¶∞‡ßÅ‡¶® -->
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Hind+Siliguri:wght@400;500;600;700&family=Noto+Sans+Bengali:wght@400;500;600;700&display=swap" rel="stylesheet">
<link href="https://fonts.maateen.me/solaiman-lipi/font.css" rel="stylesheet">
<link href="https://fonts.maateen.me/kalpurush/font.css" rel="stylesheet">

<style>
@page{ size:A4; margin:0; }

body{
    font-family: 'Hind Siliguri', 'SolaimanLipi', sans-serif;
    background:#eaeaea;
    padding:20px;
    margin:0;
    display: flex;
    min-height: 100vh;
}

/* ===== SIDEBAR FORM ===== */
.sidebar{
    width: 300px;
    background:#fff;
    padding:15px;
    border-radius:6px;
    position: fixed;
    left: 20px;
    top: 20px;
    bottom: 20px;
    overflow-y: auto;
    box-shadow: 0 0 15px rgba(0,0,0,0.1);
    z-index: 100;
}

/* ===== MAIN CONTENT ===== */
.main-content{
    flex: 1;
    margin-left: 340px; /* sidebar width + padding */
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    min-height: calc(100vh - 40px);
}

input,button,select{
    width:100%;
    padding:8px;
    margin:6px 0;
    font-size:15px;
    box-sizing: border-box;
    font-family: 'Hind Siliguri', 'SolaimanLipi', sans-serif;
}
button{ 
    cursor:pointer; 
    background: #007bff;
    color: white;
    border: none;
    border-radius: 4px;
    transition: background 0.3s;
}
button:hover{
    background: #0056b3;
}

/* ===== CERTIFICATE ===== */
#cert{
    width:210mm;
    height:297mm;
    margin:auto;
    display:none;
    position:relative;
    box-shadow: 0 0 20px rgba(0,0,0,0.2);
}

#cert img{
    width:100%;
    height:100%;
}

/* ===== TEXT ON IMAGE ===== */
.txt{
    position:absolute;
    color:#000;
    font-family: 'Hind Siliguri', 'SolaimanLipi', sans-serif;
}

/* üîß POSITION (image ‡¶Ö‡¶®‡ßÅ‡¶Ø‡¶æ‡ßü‡ßÄ adjust ‡¶ï‡¶∞‡¶§‡ßá ‡¶™‡¶æ‡¶∞‡ßã) */
.para{
    top:110mm;
    left:30mm;
    right:30mm;
    font-size:18px;
    line-height:35px;
    text-align:justify;
}

.verify{
    bottom:45mm;
    left:35mm;
    font-size:18px;
}

.principal{
    bottom:45mm;
    right:35mm;
    font-size:18px;
}

.date{
    bottom:60mm;
    left:35mm;
    font-size:17px;
}

/* ===== PRINT ===== */
@media print{
    body{
        padding:0;
        background:none;
        display: block;
    }
    .sidebar{ display:none; }
    .main-content{ 
        margin-left: 0; 
        display: block;
    }
    #cert{ 
        display:block; 
        box-shadow: none;
        margin: 0 auto;
    }
}

/* ===== LANGUAGE BUTTONS ===== */
.language-buttons {
    display: flex;
    gap: 10px;
    margin-bottom: 15px;
}

.language-buttons button {
    flex: 1;
    padding: 8px;
    font-size: 14px;
}

/* ===== FONT SELECTORS ===== */
.font-selector-container {
    background: #f8f9fa;
    padding: 10px;
    border-radius: 5px;
    margin: 15px 0;
    border: 1px solid #dee2e6;
}

.font-label {
    font-weight: bold;
    margin-bottom: 5px;
    display: block;
    color: #495057;
}

/* ===== INPUT GROUPS ===== */
.input-group {
    margin-bottom: 5px;
}

.input-group label {
    display: block;
    margin-bottom: 3px;
    font-size: 14px;
    color: #495057;
    font-weight: 500;
}

/* ===== TEXT CONTROLS ===== */
.text-controls-container {
    background: #f8f9fa;
    padding: 10px;
    border-radius: 5px;
    margin: 15px 0;
    border: 1px solid #dee2e6;
}

.control-group {
    margin-bottom: 12px;
}

.control-group label {
    display: block;
    margin-bottom: 5px;
    font-size: 14px;
    color: #495057;
    font-weight: 500;
}

.slider-container {
    display: flex;
    align-items: center;
    gap: 10px;
}

.slider-value {
    min-width: 40px;
    text-align: center;
    font-weight: bold;
    color: #007bff;
}

.slider {
    flex: 1;
    height: 6px;
    -webkit-appearance: none;
    appearance: none;
    background: #dee2e6;
    border-radius: 3px;
    outline: none;
}

.slider::-webkit-slider-thumb {
    -webkit-appearance: none;
    appearance: none;
    width: 18px;
    height: 18px;
    background: #007bff;
    border-radius: 50%;
    cursor: pointer;
}

.slider::-moz-range-thumb {
    width: 18px;
    height: 18px;
    background: #007bff;
    border-radius: 50%;
    cursor: pointer;
    border: none;
}

/* ===== SETTINGS BUTTONS ===== */
.settings-buttons {
    display: flex;
    gap: 10px;
    margin: 15px 0;
}

.settings-buttons button {
    flex: 1;
    padding: 8px;
    font-size: 14px;
}

#save-btn {
    background: #28a745;
}

#save-btn:hover {
    background: #218838;
}

#load-btn {
    background: #ffc107;
    color: #212529;
}

#load-btn:hover {
    background: #e0a800;
}

/* ===== BACKUP BUTTONS ===== */
.backup-buttons {
    display: flex;
    gap: 10px;
    margin: 15px 0;
}

.backup-buttons button {
    flex: 1;
    padding: 8px;
    font-size: 14px;
}

#backup-btn {
    background: #17a2b8;
}

#backup-btn:hover {
    background: #138496;
}

#restore-btn {
    background: #6f42c1;
}

#restore-btn:hover {
    background: #5a32a3;
}

/* ===== CUSTOM INPUT ===== */
.custom-input-container {
    display: flex;
    gap: 5px;
    margin-top: 5px;
}

.custom-input-container input {
    flex: 1;
    padding: 6px;
    font-size: 14px;
}

.custom-input-container button {
    width: auto;
    padding: 6px 10px;
    font-size: 14px;
}

/* ===== RESPONSIVE ===== */
@media (max-width: 1200px) {
    body {
        flex-direction: column;
        padding: 10px;
    }
    
    .sidebar {
        position: relative;
        width: 100%;
        left: 0;
        top: 0;
        margin-bottom: 20px;
        height: auto;
        max-height: 500px;
    }
    
    .main-content {
        margin-left: 0;
        width: 100%;
    }
    
    #cert {
        width: 100%;
        height: auto;
        max-width: 210mm;
    }
}

/* ===== MODAL STYLES ===== */
.modal {
    display: none;
    position: fixed;
    z-index: 1000;
    left: 0;
    top: 0;
    width: 100%;
    height: 100%;
    background-color: rgba(0,0,0,0.4);
}

.modal-content {
    background-color: #fefefe;
    margin: 10% auto;
    padding: 20px;
    border: 1px solid #888;
    width: 80%;
    max-width: 500px;
    border-radius: 10px;
    box-shadow: 0 4px 8px rgba(0,0,0,0.2);
}

.modal-header {
    padding: 10px 0;
    border-bottom: 1px solid #dee2e6;
    margin-bottom: 20px;
}

.modal-header h3 {
    margin: 0;
    color: #333;
}

.close {
    color: #aaa;
    float: right;
    font-size: 28px;
    font-weight: bold;
    cursor: pointer;
}

.close:hover {
    color: #000;
}

.backup-item {
    padding: 10px;
    margin: 5px 0;
    background: #f8f9fa;
    border: 1px solid #dee2e6;
    border-radius: 5px;
    cursor: pointer;
    transition: background 0.3s;
}

.backup-item:hover {
    background: #e9ecef;
}

.backup-item.selected {
    background: #c3e6cb;
    border-color: #28a745;
}

.backup-info {
    font-size: 12px;
    color: #6c757d;
    margin-top: 5px;
}

.backup-actions {
    display: flex;
    gap: 10px;
    margin-top: 15px;
}

.backup-actions button {
    flex: 1;
}
</style>
</head>

<body>
<div id="login-screen" style="position:fixed; top:0; left:0; width:100%; height:100%; background:white; z-index:9999; display:flex; flex-direction:column; align-items:center; justify-content:center;">
  <h3 id="login-title">‡¶Ö‡¶®‡ßÅ‡¶ó‡ßç‡¶∞‡¶π ‡¶ï‡¶∞‡ßá ‡¶™‡¶æ‡¶∏‡¶ì‡ßü‡¶æ‡¶∞‡ßç‡¶° ‡¶¶‡¶ø‡¶®</h3>
  <input type="password" id="pass-input" style="padding:10px; margin-bottom:10px; border-radius:5px; border:1px solid #ccc; width:300px; font-family: 'Hind Siliguri', sans-serif;" placeholder="‡¶™‡¶æ‡¶∏‡¶ì‡¶Ø‡¶º‡¶æ‡¶∞‡ßç‡¶° ‡¶≤‡¶ø‡¶ñ‡ßÅ‡¶®">
  <button onclick="checkPass()" style="padding:10px 20px; cursor:pointer; background:#28a745; color:white; border:none; border-radius:5px; font-family: 'Hind Siliguri', sans-serif;" id="login-btn">‡¶≤‡¶ó‡¶á‡¶®</button>
  <p id="error-msg" style="color:red; display:none; font-family: 'Hind Siliguri', sans-serif;">‡¶≠‡ßÅ‡¶≤ ‡¶™‡¶æ‡¶∏‡¶ì‡ßü‡¶æ‡¶∞‡ßç‡¶°!</p>
</div>

<!-- ‡¶¨‡ßç‡¶Ø‡¶æ‡¶ï‡¶Ü‡¶™ ‡¶Æ‡¶°‡¶æ‡¶≤ -->
<div id="backupModal" class="modal">
  <div class="modal-content">
    <div class="modal-header">
      <h3 id="modal-title">‡¶¨‡ßç‡¶Ø‡¶æ‡¶ï‡¶Ü‡¶™ ‡¶Æ‡ßç‡¶Ø‡¶æ‡¶®‡ßá‡¶ú‡¶æ‡¶∞</h3>
      <span class="close" onclick="closeModal()">&times;</span>
    </div>
    <div id="modal-body">
      <!-- ‡¶°‡¶æ‡¶á‡¶®‡¶æ‡¶Æ‡¶ø‡¶ï ‡¶ï‡¶®‡¶ü‡ßá‡¶®‡ßç‡¶ü -->
    </div>
  </div>
</div>

<script>
// ‡¶≤‡¶ó‡¶á‡¶® ‡¶´‡¶æ‡¶Ç‡¶∂‡¶®
function checkPass() {
  const input = document.getElementById('pass-input').value;
  const correctPass = "12345678";
  
  if (input === correctPass) {
    document.getElementById('login-screen').style.display = 'none';
  } else {
    document.getElementById('error-msg').style.display = 'block';
  }
}

// ‡¶Æ‡¶°‡¶æ‡¶≤ ‡¶´‡¶æ‡¶Ç‡¶∂‡¶®
function openModal(title, content) {
  document.getElementById('modal-title').textContent = title;
  document.getElementById('modal-body').innerHTML = content;
  document.getElementById('backupModal').style.display = 'block';
}

function closeModal() {
  document.getElementById('backupModal').style.display = 'none';
}

// ‡¶Æ‡¶°‡¶æ‡¶≤ ‡¶¨‡¶æ‡¶á‡¶∞‡ßá ‡¶ï‡ßç‡¶≤‡¶ø‡¶ï ‡¶ï‡¶∞‡¶≤‡ßá ‡¶¨‡¶®‡ßç‡¶ß
window.onclick = function(event) {
  const modal = document.getElementById('backupModal');
  if (event.target === modal) {
    closeModal();
  }
}

// ‡¶ó‡ßç‡¶≤‡ßã‡¶¨‡¶æ‡¶≤ ‡¶≠‡ßç‡¶Ø‡¶æ‡¶∞‡¶ø‡ßü‡ßá‡¶¨‡¶≤
let currentLanguage = 'english';
let selectedBanglaFont = 'Hind Siliguri';
let selectedEnglishFont = 'Arial';

// ‡¶ü‡ßá‡¶ï‡ßç‡¶∏‡¶ü ‡¶ï‡¶®‡ßç‡¶ü‡ßç‡¶∞‡ßã‡¶≤ ‡¶≠‡ßç‡¶Ø‡¶æ‡¶∞‡¶ø‡ßü‡ßá‡¶¨‡¶≤
let fontSize = 18;
let lineHeight = 35;
let textIndent = 0;

// ‡¶™‡ßç‡¶∞‡¶ø‡¶°‡¶ø‡¶´‡¶æ‡¶á‡¶®‡ßç‡¶° ‡¶Ö‡¶™‡¶∂‡¶®‡¶∏
const predefinedOptions = {
  en: {
    groups: ['Science', 'Arts', 'Commerce', 'Humanities', 'Business Studies'],
    years: ['2024', '2023', '2022', '2021', '2020', '2019', '2018'],
    gpa: ['5.00', '4.50', '4.00', '3.50', '3.00', '2.50', '2.00'],
    grades: ['A+', 'A', 'A-', 'B+', 'B', 'B-', 'C+', 'C', 'D', 'F'],
    sessions: ['2023-2024', '2022-2023', '2021-2022', '2020-2021', '2019-2020'],
    boards: ['Dhaka', 'Rajshahi', 'Chittagong', 'Barisal', 'Sylhet', 'Comilla', 'Dinajpur', 'Jessore', 'Mymensingh']
  },
  bn: {
    groups: ['‡¶¨‡¶ø‡¶ú‡ßç‡¶û‡¶æ‡¶®', '‡¶Æ‡¶æ‡¶®‡¶¨‡¶ø‡¶ï', '‡¶¨‡ßç‡¶Ø‡¶¨‡¶∏‡¶æ‡ßü ‡¶∂‡¶ø‡¶ï‡ßç‡¶∑‡¶æ', '‡¶ï‡ßÉ‡¶∑‡¶ø ‡¶∂‡¶ø‡¶ï‡ßç‡¶∑‡¶æ', '‡¶≠‡ßã‡¶ï‡ßá‡¶∂‡¶®‡¶æ‡¶≤'],
    years: ['‡ß®‡ß¶‡ß®‡ß™', '‡ß®‡ß¶‡ß®‡ß©', '‡ß®‡ß¶‡ß®‡ß®', '‡ß®‡ß¶‡ß®‡ßß', '‡ß®‡ß¶‡ß®‡ß¶', '‡ß®‡ß¶‡ßß‡ßØ', '‡ß®‡ß¶‡ßß‡ßÆ'],
    gpa: ['‡ß´.‡ß¶‡ß¶', '‡ß™.‡ß´‡ß¶', '‡ß™.‡ß¶‡ß¶', '‡ß©.‡ß´‡ß¶', '‡ß©.‡ß¶‡ß¶', '‡ß®.‡ß´‡ß¶', '‡ß®.‡ß¶‡ß¶'],
    grades: ['‡¶è+', '‡¶è', '‡¶è-', '‡¶¨‡¶ø+', '‡¶¨‡¶ø', '‡¶¨‡¶ø-', '‡¶∏‡¶ø+', '‡¶∏‡¶ø', '‡¶°‡¶ø', '‡¶è‡¶´'],
    sessions: ['‡ß®‡ß¶‡ß®‡ß©-‡ß®‡ß¶‡ß®‡ß™', '‡ß®‡ß¶‡ß®‡ß®-‡ß®‡ß¶‡ß®‡ß©', '‡ß®‡ß¶‡ß®‡ßß-‡ß®‡ß¶‡ß®‡ß®', '‡ß®‡ß¶‡ß®‡ß¶-‡ß®‡ß¶‡ß®‡ßß', '‡ß®‡ß¶‡ßß‡ßØ-‡ß®‡ß¶‡ß®‡ß¶'],
    boards: ['‡¶¢‡¶æ‡¶ï‡¶æ', '‡¶∞‡¶æ‡¶ú‡¶∂‡¶æ‡¶π‡ßÄ', '‡¶ö‡¶ü‡ßç‡¶ü‡¶ó‡ßç‡¶∞‡¶æ‡¶Æ', '‡¶¨‡¶∞‡¶ø‡¶∂‡¶æ‡¶≤', '‡¶∏‡¶ø‡¶≤‡ßá‡¶ü', '‡¶ï‡ßÅ‡¶Æ‡¶ø‡¶≤‡ßç‡¶≤‡¶æ', '‡¶¶‡¶ø‡¶®‡¶æ‡¶ú‡¶™‡ßÅ‡¶∞', '‡¶Ø‡¶∂‡ßã‡¶∞', '‡¶Æ‡ßü‡¶Æ‡¶®‡¶∏‡¶ø‡¶Ç‡¶π']
  }
};

// ‡¶á‡¶â‡¶ú‡¶æ‡¶∞ ‡¶ï‡¶æ‡¶∏‡ßç‡¶ü‡¶Æ ‡¶Ö‡¶™‡¶∂‡¶®‡¶∏
let userOptions = {
  en: JSON.parse(JSON.stringify(predefinedOptions.en)),
  bn: JSON.parse(JSON.stringify(predefinedOptions.bn))
};

// ‡¶´‡¶®‡ßç‡¶ü ‡¶Ö‡¶™‡¶∂‡¶®‡¶∏
const banglaFonts = [
  {name: 'Hind Siliguri', display: '‡¶π‡¶ø‡¶®‡ßç‡¶¶ ‡¶∏‡¶ø‡¶≤‡¶ø‡¶ó‡ßÅ‡ßú‡¶ø (‡¶∏‡¶¨‡¶ö‡ßá‡ßü‡ßá ‡¶≠‡¶æ‡¶≤‡ßã)'},
  {name: 'Noto Sans Bengali', display: '‡¶®‡ßã‡¶ü‡ßã ‡¶∏‡¶æ‡¶®‡ßç‡¶∏ ‡¶¨‡¶æ‡¶Ç‡¶≤‡¶æ'},
  {name: 'SolaimanLipi', display: '‡¶∏‡ßã‡¶≤‡¶æ‡¶á‡¶Æ‡¶æ‡¶® ‡¶≤‡¶ø‡¶™‡¶ø'},
  {name: 'Kalpurush', display: '‡¶ï‡¶≤‡ßç‡¶™‡¶∞‡ßÅ‡¶∂'}
];

const englishFonts = [
  {name: 'Arial', display: 'Arial'},
  {name: 'Times New Roman', display: 'Times New Roman'},
  {name: 'Calibri', display: 'Calibri'},
  {name: 'Georgia', display: 'Georgia'},
  {name: 'Verdana', display: 'Verdana'},
  {name: 'Tahoma', display: 'Tahoma'}
];

// ==================== ‡¶¨‡ßç‡¶Ø‡¶æ‡¶ï‡¶Ü‡¶™ ‡¶∏‡¶ø‡¶∏‡ßç‡¶ü‡ßá‡¶Æ ‡¶´‡¶æ‡¶Ç‡¶∂‡¶® ====================

// ‡¶¨‡ßç‡¶Ø‡¶æ‡¶ï‡¶Ü‡¶™ ‡¶§‡ßà‡¶∞‡¶ø ‡¶ï‡¶∞‡ßÅ‡¶® - FIXED
function createBackup() {
  const settings = getAllSettings();
  const timestamp = new Date().toLocaleString();
  const backupName = prompt(currentLanguage === 'bangla' ? 
    '‡¶¨‡ßç‡¶Ø‡¶æ‡¶ï‡¶Ü‡¶™‡ßá‡¶∞ ‡¶®‡¶æ‡¶Æ ‡¶¶‡¶ø‡¶®:' : 
    'Enter backup name:', 
    `Backup_${new Date().toISOString().slice(0,10)}`
  );
  
  if (!backupName) return;
  
  const backup = {
    id: Date.now() + Math.random(), // ‡¶á‡¶â‡¶®‡¶ø‡¶ï ‡¶Ü‡¶á‡¶°‡¶ø ‡¶®‡¶ø‡¶∂‡ßç‡¶ö‡¶ø‡¶§ ‡¶ï‡¶∞‡ßÅ‡¶®
    name: backupName,
    timestamp: timestamp,
    date: new Date().toISOString(),
    data: settings
  };
  
  // ‡¶¨‡¶ø‡¶¶‡ßç‡¶Ø‡¶Æ‡¶æ‡¶® ‡¶¨‡ßç‡¶Ø‡¶æ‡¶ï‡¶Ü‡¶™ ‡¶≤‡ßã‡¶° ‡¶ï‡¶∞‡ßÅ‡¶®
  let backups = JSON.parse(localStorage.getItem('certificateBackups') || '[]');
  
  // ‡¶®‡¶§‡ßÅ‡¶® ‡¶¨‡ßç‡¶Ø‡¶æ‡¶ï‡¶Ü‡¶™ ‡¶Ø‡ßã‡¶ó ‡¶ï‡¶∞‡ßÅ‡¶®
  backups.unshift(backup);
  
  // ‡¶∏‡¶∞‡ßç‡¶¨‡ßã‡¶ö‡ßç‡¶ö ‡ß®‡ß¶‡¶ü‡¶ø ‡¶¨‡ßç‡¶Ø‡¶æ‡¶ï‡¶Ü‡¶™ ‡¶∞‡¶æ‡¶ñ‡ßÅ‡¶®
  if (backups.length > 20) {
    backups = backups.slice(0, 20);
  }
  
  // ‡¶∏‡ßá‡¶≠ ‡¶ï‡¶∞‡ßÅ‡¶®
  localStorage.setItem('certificateBackups', JSON.stringify(backups));
  
  // ‡¶°‡¶ø‡¶¨‡¶æ‡¶ó ‡¶Æ‡ßá‡¶∏‡ßá‡¶ú
  console.log('‡¶¨‡ßç‡¶Ø‡¶æ‡¶ï‡¶Ü‡¶™ ‡¶§‡ßà‡¶∞‡¶ø ‡¶π‡ßü‡ßá‡¶õ‡ßá:', backup);
  console.log('‡¶Æ‡ßã‡¶ü ‡¶¨‡ßç‡¶Ø‡¶æ‡¶ï‡¶Ü‡¶™:', backups.length);
  
  // ‡¶∏‡¶´‡¶≤‡¶§‡¶æ‡¶∞ ‡¶Æ‡ßá‡¶∏‡ßá‡¶ú
  if (currentLanguage === 'bangla') {
    alert(`‡¶¨‡ßç‡¶Ø‡¶æ‡¶ï‡¶Ü‡¶™ ‡¶§‡ßà‡¶∞‡¶ø ‡¶π‡ßü‡ßá‡¶õ‡ßá: ${backupName}\n‡¶Æ‡ßã‡¶ü ‡¶¨‡ßç‡¶Ø‡¶æ‡¶ï‡¶Ü‡¶™: ${backups.length}`);
  } else {
    alert(`Backup created: ${backupName}\nTotal backups: ${backups.length}`);
  }
}

// ‡¶∏‡¶¨ ‡¶∏‡ßá‡¶ü‡¶ø‡¶Ç‡¶∏ ‡¶∏‡¶Ç‡¶ó‡ßç‡¶∞‡¶π ‡¶ï‡¶∞‡ßÅ‡¶®
function getAllSettings() {
  return {
    // ‡¶á‡¶®‡¶™‡ßÅ‡¶ü ‡¶≠‡ßç‡¶Ø‡¶æ‡¶≤‡ßÅ
    sname: document.getElementById('sname').value,
    fname: document.getElementById('fname').value,
    mname: document.getElementById('mname').value,
    group: document.getElementById('group').value,
    year: document.getElementById('year').value,
    gpa: document.getElementById('gpa').value,
    grade: document.getElementById('grade').value,
    roll: document.getElementById('roll').value,
    reg: document.getElementById('reg').value,
    session: document.getElementById('session').value,
    board: document.getElementById('board').value,
    dob: document.getElementById('dob').value,
    issue: document.getElementById('issue').value,
    
    // ‡¶á‡¶â‡¶ú‡¶æ‡¶∞ ‡¶ï‡¶æ‡¶∏‡ßç‡¶ü‡¶Æ ‡¶Ö‡¶™‡¶∂‡¶®‡¶∏
    userOptions: userOptions,
    
    // ‡¶Ö‡¶®‡ßç‡¶Ø‡¶æ‡¶®‡ßç‡¶Ø ‡¶∏‡ßá‡¶ü‡¶ø‡¶Ç‡¶∏
    currentLanguage: currentLanguage,
    banglaFont: selectedBanglaFont,
    englishFont: selectedEnglishFont,
    fontSize: fontSize,
    lineHeight: lineHeight,
    textIndent: textIndent
  };
}

// ‡¶¨‡ßç‡¶Ø‡¶æ‡¶ï‡¶Ü‡¶™ ‡¶∞‡¶ø‡¶∏‡ßç‡¶ü‡ßã‡¶∞ ‡¶ï‡¶∞‡ßÅ‡¶®
function restoreBackup() {
  // ‡¶¨‡¶ø‡¶¶‡ßç‡¶Ø‡¶Æ‡¶æ‡¶® ‡¶¨‡ßç‡¶Ø‡¶æ‡¶ï‡¶Ü‡¶™ ‡¶≤‡ßã‡¶° ‡¶ï‡¶∞‡ßÅ‡¶®
  const backups = getBackups();
  
  if (backups.length === 0) {
    if (currentLanguage === 'bangla') {
      alert('‡¶ï‡ßã‡¶®‡ßã ‡¶¨‡ßç‡¶Ø‡¶æ‡¶ï‡¶Ü‡¶™ ‡¶®‡ßá‡¶á! ‡¶™‡ßç‡¶∞‡¶•‡¶Æ‡ßá ‡¶è‡¶ï‡¶ü‡¶ø ‡¶¨‡ßç‡¶Ø‡¶æ‡¶ï‡¶Ü‡¶™ ‡¶§‡ßà‡¶∞‡¶ø ‡¶ï‡¶∞‡ßÅ‡¶®‡•§');
    } else {
      alert('No backups found! Please create a backup first.');
    }
    return;
  }
  
  // ‡¶¨‡ßç‡¶Ø‡¶æ‡¶ï‡¶Ü‡¶™ ‡¶§‡¶æ‡¶≤‡¶ø‡¶ï‡¶æ ‡¶¶‡ßá‡¶ñ‡¶æ‡¶®
  let backupListHTML = '<div style="max-height: 300px; overflow-y: auto; margin-bottom: 20px;">';
  
  backups.forEach((backup, index) => {
    const itemCount = backup.data ? Object.keys(backup.data).filter(k => backup.data[k]).length : 0;
    backupListHTML += `
      <div class="backup-item" onclick="selectBackup(this, ${index})" id="backup-${index}">
        <strong>${backup.name || 'Unnamed Backup'}</strong>
        <div class="backup-info">
          ${backup.timestamp || backup.date} | 
          ${itemCount} items
        </div>
      </div>
    `;
  });
  
  backupListHTML += '</div>';
  
  backupListHTML += `
    <div class="backup-actions">
      <button onclick="confirmRestore()" style="background: #28a745;">${currentLanguage === 'bangla' ? '‡¶∞‡¶ø‡¶∏‡ßç‡¶ü‡ßã‡¶∞ ‡¶ï‡¶∞‡ßÅ‡¶®' : 'Restore'}</button>
      <button onclick="deleteSelectedBackup()" style="background: #dc3545;">${currentLanguage === 'bangla' ? '‡¶°‡¶ø‡¶≤‡¶ø‡¶ü ‡¶ï‡¶∞‡ßÅ‡¶®' : 'Delete'}</button>
      <button onclick="closeModal()" style="background: #6c757d;">${currentLanguage === 'bangla' ? '‡¶¨‡¶æ‡¶§‡¶ø‡¶≤' : 'Cancel'}</button>
    </div>
    <input type="hidden" id="selectedBackupIndex" value="-1">
  `;
  
  openModal(
    currentLanguage === 'bangla' ? '‡¶¨‡ßç‡¶Ø‡¶æ‡¶ï‡¶Ü‡¶™ ‡¶®‡¶ø‡¶∞‡ßç‡¶¨‡¶æ‡¶ö‡¶® ‡¶ï‡¶∞‡ßÅ‡¶®' : 'Select Backup',
    backupListHTML
  );
}

// ‡¶¨‡ßç‡¶Ø‡¶æ‡¶ï‡¶Ü‡¶™ ‡¶≤‡ßã‡¶° ‡¶ï‡¶∞‡ßÅ‡¶® - FIXED
function getBackups() {
  try {
    const backupsStr = localStorage.getItem('certificateBackups');
    if (!backupsStr) return [];
    
    const backups = JSON.parse(backupsStr);
    if (!Array.isArray(backups)) return [];
    
    return backups;
  } catch (error) {
    console.error('Error loading backups:', error);
    return [];
  }
}

// ‡¶¨‡ßç‡¶Ø‡¶æ‡¶ï‡¶Ü‡¶™ ‡¶∏‡¶ø‡¶≤‡ßá‡¶ï‡ßç‡¶ü ‡¶ï‡¶∞‡ßÅ‡¶®
function selectBackup(element, index) {
  // ‡¶∏‡¶¨ ‡¶∏‡¶ø‡¶≤‡ßá‡¶ï‡¶∂‡¶® ‡¶∞‡¶ø‡¶Æ‡ßÅ‡¶≠ ‡¶ï‡¶∞‡ßÅ‡¶®
  document.querySelectorAll('.backup-item').forEach(item => {
    item.classList.remove('selected');
  });
  
  // ‡¶®‡¶ø‡¶∞‡ßç‡¶¨‡¶æ‡¶ö‡¶ø‡¶§ ‡¶Ü‡¶á‡¶ü‡ßá‡¶Æ ‡¶∏‡¶ø‡¶≤‡ßá‡¶ï‡ßç‡¶ü ‡¶ï‡¶∞‡ßÅ‡¶®
  element.classList.add('selected');
  document.getElementById('selectedBackupIndex').value = index;
}

// ‡¶¨‡ßç‡¶Ø‡¶æ‡¶ï‡¶Ü‡¶™ ‡¶∞‡¶ø‡¶∏‡ßç‡¶ü‡ßã‡¶∞ ‡¶®‡¶ø‡¶∂‡ßç‡¶ö‡¶ø‡¶§ ‡¶ï‡¶∞‡ßÅ‡¶®
function confirmRestore() {
  const selectedIndex = document.getElementById('selectedBackupIndex').value;
  
  if (selectedIndex === '-1') {
    if (currentLanguage === 'bangla') {
      alert('‡¶¶‡ßü‡¶æ ‡¶ï‡¶∞‡ßá ‡¶è‡¶ï‡¶ü‡¶ø ‡¶¨‡ßç‡¶Ø‡¶æ‡¶ï‡¶Ü‡¶™ ‡¶∏‡¶ø‡¶≤‡ßá‡¶ï‡ßç‡¶ü ‡¶ï‡¶∞‡ßÅ‡¶®!');
    } else {
      alert('Please select a backup!');
    }
    return;
  }
  
  // ‡¶¨‡ßç‡¶Ø‡¶æ‡¶ï‡¶Ü‡¶™ ‡¶≤‡ßã‡¶° ‡¶ï‡¶∞‡ßÅ‡¶®
  const backups = getBackups();
  const backup = backups[selectedIndex];
  
  if (backup && backup.data) {
    // ‡¶∏‡ßá‡¶ü‡¶ø‡¶Ç‡¶∏ ‡¶∞‡¶ø‡¶∏‡ßç‡¶ü‡ßã‡¶∞ ‡¶ï‡¶∞‡ßÅ‡¶®
    restoreSettings(backup.data);
    closeModal();
    
    if (currentLanguage === 'bangla') {
      alert(`‡¶¨‡ßç‡¶Ø‡¶æ‡¶ï‡¶Ü‡¶™ ‡¶∞‡¶ø‡¶∏‡ßç‡¶ü‡ßã‡¶∞ ‡¶π‡ßü‡ßá‡¶õ‡ßá: ${backup.name}`);
    } else {
      alert(`Backup restored: ${backup.name}`);
    }
  } else {
    if (currentLanguage === 'bangla') {
      alert('‡¶¨‡ßç‡¶Ø‡¶æ‡¶ï‡¶Ü‡¶™ ‡¶°‡ßá‡¶ü‡¶æ ‡¶™‡¶æ‡¶ì‡ßü‡¶æ ‡¶Ø‡¶æ‡ßü‡¶®‡¶ø!');
    } else {
      alert('Backup data not found!');
    }
  }
}

// ‡¶¨‡ßç‡¶Ø‡¶æ‡¶ï‡¶Ü‡¶™ ‡¶°‡¶ø‡¶≤‡¶ø‡¶ü ‡¶ï‡¶∞‡ßÅ‡¶®
function deleteSelectedBackup() {
  const selectedIndex = document.getElementById('selectedBackupIndex').value;
  
  if (selectedIndex === '-1') {
    if (currentLanguage === 'bangla') {
      alert('‡¶¶‡ßü‡¶æ ‡¶ï‡¶∞‡ßá ‡¶è‡¶ï‡¶ü‡¶ø ‡¶¨‡ßç‡¶Ø‡¶æ‡¶ï‡¶Ü‡¶™ ‡¶∏‡¶ø‡¶≤‡ßá‡¶ï‡ßç‡¶ü ‡¶ï‡¶∞‡ßÅ‡¶®!');
    } else {
      alert('Please select a backup!');
    }
    return;
  }
  
  if (!confirm(currentLanguage === 'bangla' ? 
    '‡¶Ü‡¶™‡¶®‡¶ø ‡¶ï‡¶ø ‡¶è‡¶á ‡¶¨‡ßç‡¶Ø‡¶æ‡¶ï‡¶Ü‡¶™ ‡¶°‡¶ø‡¶≤‡¶ø‡¶ü ‡¶ï‡¶∞‡¶§‡ßá ‡¶ö‡¶æ‡¶®?' : 
    'Are you sure you want to delete this backup?')) {
    return;
  }
  
  // ‡¶¨‡ßç‡¶Ø‡¶æ‡¶ï‡¶Ü‡¶™ ‡¶≤‡ßã‡¶° ‡¶ï‡¶∞‡ßÅ‡¶®
  let backups = getBackups();
  
  // ‡¶®‡¶ø‡¶∞‡ßç‡¶¨‡¶æ‡¶ö‡¶ø‡¶§ ‡¶¨‡ßç‡¶Ø‡¶æ‡¶ï‡¶Ü‡¶™ ‡¶∞‡¶ø‡¶Æ‡ßÅ‡¶≠ ‡¶ï‡¶∞‡ßÅ‡¶®
  backups.splice(selectedIndex, 1);
  
  // ‡¶Ü‡¶™‡¶°‡ßá‡¶ü ‡¶ï‡¶∞‡¶æ ‡¶¨‡ßç‡¶Ø‡¶æ‡¶ï‡¶Ü‡¶™ ‡¶∏‡ßá‡¶≠ ‡¶ï‡¶∞‡ßÅ‡¶®
  localStorage.setItem('certificateBackups', JSON.stringify(backups));
  
  // ‡¶Æ‡¶°‡¶æ‡¶≤ ‡¶∞‡¶ø‡¶´‡ßç‡¶∞‡ßá‡¶∂ ‡¶ï‡¶∞‡ßÅ‡¶®
  restoreBackup();
  
  if (currentLanguage === 'bangla') {
    alert('‡¶¨‡ßç‡¶Ø‡¶æ‡¶ï‡¶Ü‡¶™ ‡¶°‡¶ø‡¶≤‡¶ø‡¶ü ‡¶ï‡¶∞‡¶æ ‡¶π‡ßü‡ßá‡¶õ‡ßá!');
  } else {
    alert('Backup deleted successfully!');
  }
}

// ‡¶è‡¶ï‡ßç‡¶∏‡¶™‡ßã‡¶∞‡ßç‡¶ü ‡¶¨‡ßç‡¶Ø‡¶æ‡¶ï‡¶Ü‡¶™ (‡¶´‡¶æ‡¶á‡¶≤ ‡¶π‡¶ø‡¶∏‡ßá‡¶¨‡ßá ‡¶°‡¶æ‡¶â‡¶®‡¶≤‡ßã‡¶°) - FIXED
function exportBackup() {
  const backups = getBackups();
  
  console.log('Exporting backups:', backups); // ‡¶°‡¶ø‡¶¨‡¶æ‡¶ó‡¶ø‡¶Ç
  
  if (backups.length === 0) {
    // ‡¶∞‡ßá‡¶ó‡ßÅ‡¶≤‡¶æ‡¶∞ ‡¶∏‡ßá‡¶ü‡¶ø‡¶Ç‡¶∏ ‡¶•‡ßá‡¶ï‡ßá ‡¶¨‡ßç‡¶Ø‡¶æ‡¶ï‡¶Ü‡¶™ ‡¶§‡ßà‡¶∞‡¶ø ‡¶ï‡¶∞‡ßÅ‡¶®
    const currentSettings = getAllSettings();
    const backup = {
      id: Date.now(),
      name: 'Auto Backup',
      timestamp: new Date().toLocaleString(),
      date: new Date().toISOString(),
      data: currentSettings
    };
    
    backups.push(backup);
    
    if (currentLanguage === 'bangla') {
      alert('‡¶ï‡ßã‡¶®‡ßã ‡¶¨‡ßç‡¶Ø‡¶æ‡¶ï‡¶Ü‡¶™ ‡¶®‡ßá‡¶á‡•§ ‡¶¨‡¶∞‡ßç‡¶§‡¶Æ‡¶æ‡¶® ‡¶∏‡ßá‡¶ü‡¶ø‡¶Ç‡¶∏ ‡¶•‡ßá‡¶ï‡ßá ‡¶è‡¶ï‡¶ü‡¶ø ‡¶¨‡ßç‡¶Ø‡¶æ‡¶ï‡¶Ü‡¶™ ‡¶§‡ßà‡¶∞‡¶ø ‡¶ï‡¶∞‡¶æ ‡¶π‡¶ö‡ßç‡¶õ‡ßá...');
    } else {
      alert('No backups found. Creating a backup from current settings...');
    }
  }
  
  const backupData = {
    version: '1.0',
    exportDate: new Date().toISOString(),
    totalBackups: backups.length,
    backups: backups
  };
  
  const dataStr = JSON.stringify(backupData, null, 2);
  const dataBlob = new Blob([dataStr], {type: 'application/json'});
  const url = URL.createObjectURL(dataBlob);
  
  const link = document.createElement('a');
  link.href = url;
  link.download = `certificate_backup_${new Date().toISOString().slice(0,10)}.json`;
  document.body.appendChild(link);
  link.click();
  document.body.removeChild(link);
  
  if (currentLanguage === 'bangla') {
    alert(`${backups.length}‡¶ü‡¶ø ‡¶¨‡ßç‡¶Ø‡¶æ‡¶ï‡¶Ü‡¶™ ‡¶è‡¶ï‡ßç‡¶∏‡¶™‡ßã‡¶∞‡ßç‡¶ü ‡¶ï‡¶∞‡¶æ ‡¶π‡ßü‡ßá‡¶õ‡ßá!`);
  } else {
    alert(`${backups.length} backups exported successfully!`);
  }
}

// ‡¶á‡¶Æ‡ßç‡¶™‡ßã‡¶∞‡ßç‡¶ü ‡¶¨‡ßç‡¶Ø‡¶æ‡¶ï‡¶Ü‡¶™ (‡¶´‡¶æ‡¶á‡¶≤ ‡¶•‡ßá‡¶ï‡ßá) - FIXED
function importBackup() {
  const input = document.createElement('input');
  input.type = 'file';
  input.accept = '.json';
  
  input.onchange = function(event) {
    const file = event.target.files[0];
    if (!file) return;
    
    const reader = new FileReader();
    reader.onload = function(e) {
      try {
        const backupData = JSON.parse(e.target.result);
        console.log('Imported backup data:', backupData); // ‡¶°‡¶ø‡¶¨‡¶æ‡¶ó‡¶ø‡¶Ç
        
        let backupsToImport = [];
        
        // ‡¶¨‡¶ø‡¶≠‡¶ø‡¶®‡ßç‡¶® ‡¶´‡¶∞‡¶Æ‡ßç‡¶Ø‡¶æ‡¶ü ‡¶∏‡¶æ‡¶™‡ßã‡¶∞‡ßç‡¶ü
        if (backupData.backups && Array.isArray(backupData.backups)) {
          // ‡¶®‡¶§‡ßÅ‡¶® ‡¶´‡¶∞‡¶Æ‡ßç‡¶Ø‡¶æ‡¶ü
          backupsToImport = backupData.backups;
        } else if (Array.isArray(backupData)) {
          // ‡¶™‡ßÅ‡¶∞‡¶æ‡¶®‡ßã ‡¶´‡¶∞‡¶Æ‡ßç‡¶Ø‡¶æ‡¶ü (‡¶∏‡¶∞‡¶æ‡¶∏‡¶∞‡¶ø ‡¶Ö‡ßç‡¶Ø‡¶æ‡¶∞‡ßá)
          backupsToImport = backupData;
        } else if (backupData.data) {
          // ‡¶∏‡¶ø‡¶ô‡ßç‡¶ó‡ßá‡¶≤ ‡¶¨‡ßç‡¶Ø‡¶æ‡¶ï‡¶Ü‡¶™
          backupsToImport = [backupData];
        } else {
          throw new Error('Invalid backup file format');
        }
        
        // ‡¶¨‡¶ø‡¶¶‡ßç‡¶Ø‡¶Æ‡¶æ‡¶® ‡¶¨‡ßç‡¶Ø‡¶æ‡¶ï‡¶Ü‡¶™ ‡¶≤‡ßã‡¶° ‡¶ï‡¶∞‡ßÅ‡¶®
        let existingBackups = getBackups();
        
        // ‡¶®‡¶§‡ßÅ‡¶® ‡¶¨‡ßç‡¶Ø‡¶æ‡¶ï‡¶Ü‡¶™ ‡¶Ø‡ßã‡¶ó ‡¶ï‡¶∞‡ßÅ‡¶®
        backupsToImport.forEach(backup => {
          // ‡¶°‡ßá‡¶ü‡¶æ ‡¶≠‡ßç‡¶Ø‡¶æ‡¶≤‡¶ø‡¶°‡ßá‡¶∂‡¶®
          if (!backup.data) {
            console.warn('Invalid backup item skipped:', backup);
            return;
          }
          
          // ‡¶®‡¶§‡ßÅ‡¶® ‡¶Ü‡¶á‡¶°‡¶ø ‡¶¶‡¶ø‡¶®
          backup.id = Date.now() + Math.random();
          existingBackups.unshift(backup);
        });
        
        // ‡¶∏‡¶∞‡ßç‡¶¨‡ßã‡¶ö‡ßç‡¶ö ‡ß®‡ß¶‡¶ü‡¶ø ‡¶¨‡ßç‡¶Ø‡¶æ‡¶ï‡¶Ü‡¶™ ‡¶∞‡¶æ‡¶ñ‡ßÅ‡¶®
        if (existingBackups.length > 20) {
          existingBackups = existingBackups.slice(0, 20);
        }
        
        // ‡¶∏‡ßá‡¶≠ ‡¶ï‡¶∞‡ßÅ‡¶®
        localStorage.setItem('certificateBackups', JSON.stringify(existingBackups));
        
        if (currentLanguage === 'bangla') {
          alert(`${backupsToImport.length}‡¶ü‡¶ø ‡¶¨‡ßç‡¶Ø‡¶æ‡¶ï‡¶Ü‡¶™ ‡¶á‡¶Æ‡ßç‡¶™‡ßã‡¶∞‡ßç‡¶ü ‡¶ï‡¶∞‡¶æ ‡¶π‡ßü‡ßá‡¶õ‡ßá!\n‡¶Æ‡ßã‡¶ü ‡¶¨‡ßç‡¶Ø‡¶æ‡¶ï‡¶Ü‡¶™: ${existingBackups.length}`);
        } else {
          alert(`${backupsToImport.length} backups imported successfully!\nTotal backups: ${existingBackups.length}`);
        }
        
      } catch (error) {
        console.error('Error importing backup:', error);
        if (currentLanguage === 'bangla') {
          alert('‡¶¨‡ßç‡¶Ø‡¶æ‡¶ï‡¶Ü‡¶™ ‡¶´‡¶æ‡¶á‡¶≤ ‡¶≠‡ßÅ‡¶≤ ‡¶´‡¶∞‡¶Æ‡ßç‡¶Ø‡¶æ‡¶ü! ‡¶¶‡ßü‡¶æ ‡¶ï‡¶∞‡ßá ‡¶∏‡¶†‡¶ø‡¶ï JSON ‡¶´‡¶æ‡¶á‡¶≤ ‡¶®‡¶ø‡¶∞‡ßç‡¶¨‡¶æ‡¶ö‡¶® ‡¶ï‡¶∞‡ßÅ‡¶®‡•§');
        } else {
          alert('Invalid backup file format! Please select a valid JSON file.');
        }
      }
    };
    
    reader.readAsText(file);
  };
  
  input.click();
}

// ‡¶¨‡ßç‡¶Ø‡¶æ‡¶ï‡¶Ü‡¶™‡ßá‡¶∞ ‡¶§‡¶æ‡¶≤‡¶ø‡¶ï‡¶æ ‡¶¶‡ßá‡¶ñ‡¶æ‡¶® - ‡¶®‡¶§‡ßÅ‡¶® ‡¶´‡¶æ‡¶Ç‡¶∂‡¶®
function viewBackups() {
  const backups = getBackups();
  
  if (backups.length === 0) {
    if (currentLanguage === 'bangla') {
      alert('‡¶ï‡ßã‡¶®‡ßã ‡¶¨‡ßç‡¶Ø‡¶æ‡¶ï‡¶Ü‡¶™ ‡¶®‡ßá‡¶á!');
    } else {
      alert('No backups found!');
    }
    return;
  }
  
  let backupListHTML = '<h4>‡¶∏‡¶¨ ‡¶¨‡ßç‡¶Ø‡¶æ‡¶ï‡¶Ü‡¶™:</h4><div style="max-height: 400px; overflow-y: auto;">';
  
  backups.forEach((backup, index) => {
    backupListHTML += `
      <div style="padding: 10px; margin: 5px 0; background: #f8f9fa; border-radius: 5px;">
        <strong>${index + 1}. ${backup.name}</strong><br>
        <small>‡¶§‡¶æ‡¶∞‡¶ø‡¶ñ: ${backup.timestamp || backup.date}</small>
      </div>
    `;
  });
  
  backupListHTML += '</div>';
  
  openModal(
    currentLanguage === 'bangla' ? '‡¶¨‡ßç‡¶Ø‡¶æ‡¶ï‡¶Ü‡¶™‡ßá‡¶∞ ‡¶§‡¶æ‡¶≤‡¶ø‡¶ï‡¶æ' : 'Backup List',
    backupListHTML
  );
}

// ‡¶∏‡ßá‡¶ü‡¶ø‡¶Ç‡¶∏ ‡¶∞‡¶ø‡¶∏‡ßç‡¶ü‡ßã‡¶∞ ‡¶ï‡¶∞‡ßÅ‡¶®
function restoreSettings(settings) {
  // ‡¶á‡¶®‡¶™‡ßÅ‡¶ü ‡¶´‡¶ø‡¶≤‡ßç‡¶° ‡¶≤‡ßã‡¶°
  document.getElementById('sname').value = settings.sname || '';
  document.getElementById('fname').value = settings.fname || '';
  document.getElementById('mname').value = settings.mname || '';
  document.getElementById('group').value = settings.group || '';
  document.getElementById('year').value = settings.year || '';
  document.getElementById('gpa').value = settings.gpa || '';
  document.getElementById('grade').value = settings.grade || '';
  document.getElementById('roll').value = settings.roll || '';
  document.getElementById('reg').value = settings.reg || '';
  document.getElementById('session').value = settings.session || '';
  document.getElementById('board').value = settings.board || '';
  document.getElementById('dob').value = settings.dob || '';
  document.getElementById('issue').value = settings.issue || '';
  
  // ‡¶á‡¶â‡¶ú‡¶æ‡¶∞ ‡¶ï‡¶æ‡¶∏‡ßç‡¶ü‡¶Æ ‡¶Ö‡¶™‡¶∂‡¶®‡¶∏ ‡¶≤‡ßã‡¶°
  if (settings.userOptions) {
    userOptions = settings.userOptions;
  }
  
  // ‡¶≠‡¶æ‡¶∑‡¶æ ‡¶∏‡ßá‡¶ü‡¶ø‡¶Ç‡¶∏
  if (settings.currentLanguage) {
    currentLanguage = settings.currentLanguage;
    if (currentLanguage === 'bangla') {
      changeToBangla();
    } else {
      changeToEnglish();
    }
  } else {
    createSelectDropdowns();
  }
  
  // ‡¶´‡¶®‡ßç‡¶ü ‡¶∏‡¶ø‡¶≤‡ßá‡¶ï‡ßç‡¶ü
  if (settings.banglaFont) {
    selectedBanglaFont = settings.banglaFont;
    document.getElementById('bangla-font-select').value = selectedBanglaFont;
  }
  
  if (settings.englishFont) {
    selectedEnglishFont = settings.englishFont;
    document.getElementById('english-font-select').value = selectedEnglishFont;
  }
  
  // ‡¶ü‡ßá‡¶ï‡ßç‡¶∏‡¶ü ‡¶ï‡¶®‡ßç‡¶ü‡ßç‡¶∞‡ßã‡¶≤‡¶∏
  if (settings.fontSize) {
    fontSize = settings.fontSize;
    document.getElementById('font-size-slider').value = fontSize;
    document.getElementById('font-size-value').textContent = fontSize;
  }
  
  if (settings.lineHeight) {
    lineHeight = settings.lineHeight;
    document.getElementById('line-height-slider').value = lineHeight;
    document.getElementById('line-height-value').textContent = lineHeight;
  }
  
  if (settings.textIndent) {
    textIndent = settings.textIndent;
    document.getElementById('indent-slider').value = textIndent;
    document.getElementById('indent-value').textContent = textIndent;
  }
  
  // ‡¶∏‡¶æ‡¶∞‡ßç‡¶ü‡¶ø‡¶´‡¶ø‡¶ï‡ßá‡¶ü ‡¶´‡¶®‡ßç‡¶ü ‡¶Ü‡¶™‡¶°‡ßá‡¶ü
  updateCertificateFont();
  updateCertificateTextStyle();
}

// ==================== ‡¶¨‡¶æ‡¶ï‡¶ø ‡¶´‡¶æ‡¶Ç‡¶∂‡¶® ====================

// ‡¶∏‡¶ø‡¶≤‡ßá‡¶ï‡ßç‡¶ü ‡¶°‡ßç‡¶∞‡¶™‡¶°‡¶æ‡¶â‡¶® ‡¶§‡ßà‡¶∞‡¶ø
function createSelectDropdowns() {
  const lang = currentLanguage === 'bangla' ? 'bn' : 'en';
  createDropdown('group-select', userOptions[lang].groups, lang);
  createDropdown('year-select', userOptions[lang].years, lang);
  createDropdown('gpa-select', userOptions[lang].gpa, lang);
  createDropdown('grade-select', userOptions[lang].grades, lang);
  createDropdown('session-select', userOptions[lang].sessions, lang);
  createDropdown('board-select', userOptions[lang].boards, lang);
}

function createDropdown(selectId, options, lang) {
  const select = document.getElementById(selectId);
  if (!select) return;
  
  const placeholderText = lang === 'bn' ? '‡¶∏‡¶ø‡¶≤‡ßá‡¶ï‡ßç‡¶ü ‡¶ï‡¶∞‡ßÅ‡¶®...' : 'Select...';
  select.innerHTML = `<option value="">${placeholderText}</option>`;
  
  options.forEach(option => {
    const opt = document.createElement('option');
    opt.value = option;
    opt.textContent = option;
    select.appendChild(opt);
  });
}

// ‡¶ï‡¶æ‡¶∏‡ßç‡¶ü‡¶Æ ‡¶Ö‡¶™‡¶∂‡¶® ‡¶Ø‡ßã‡¶ó ‡¶ï‡¶∞‡¶æ‡¶∞ ‡¶´‡¶æ‡¶Ç‡¶∂‡¶®
function addCustomOption(field, inputId, selectId) {
  const input = document.getElementById(inputId);
  const select = document.getElementById(selectId);
  
  if (input.value.trim() === '') return;
  
  const newOption = input.value.trim();
  const lang = currentLanguage === 'bangla' ? 'bn' : 'en';
  
  if (!userOptions[lang][field].includes(newOption)) {
    userOptions[lang][field].push(newOption);
    userOptions[lang][field].sort();
  }
  
  createDropdown(selectId, userOptions[lang][field], lang);
  select.value = newOption;
  updateInputFromSelect(selectId, field);
  input.value = '';
}

// ‡¶∏‡¶ø‡¶≤‡ßá‡¶ï‡ßç‡¶ü ‡¶•‡ßá‡¶ï‡ßá ‡¶á‡¶®‡¶™‡ßÅ‡¶ü ‡¶Ü‡¶™‡¶°‡ßá‡¶ü
function updateInputFromSelect(selectId, field) {
  const select = document.getElementById(selectId);
  let inputField = '';
  
  if (selectId === 'group-select') inputField = 'group';
  else if (selectId === 'year-select') inputField = 'year';
  else if (selectId === 'gpa-select') inputField = 'gpa';
  else if (selectId === 'grade-select') inputField = 'grade';
  else if (selectId === 'session-select') inputField = 'session';
  else if (selectId === 'board-select') inputField = 'board';
  
  const input = document.getElementById(inputField);
  
  if (select && input) {
    input.value = select.value;
  }
}

// ‡¶∏‡ßá‡¶ü‡¶ø‡¶Ç‡¶∏ ‡¶∏‡ßá‡¶≠ ‡¶ï‡¶∞‡¶æ
function saveSettings() {
  const settings = getAllSettings();
  localStorage.setItem('certificateSettings', JSON.stringify(settings));
  
  if (currentLanguage === 'bangla') {
    alert('‡¶∏‡ßá‡¶ü‡¶ø‡¶Ç‡¶∏ ‡¶∏‡ßá‡¶≠ ‡¶ï‡¶∞‡¶æ ‡¶π‡ßü‡ßá‡¶õ‡ßá!');
  } else {
    alert('Settings saved successfully!');
  }
}

// ‡¶∏‡ßá‡¶ü‡¶ø‡¶Ç‡¶∏ ‡¶≤‡ßã‡¶° ‡¶ï‡¶∞‡¶æ
function loadSettings() {
  const savedSettings = localStorage.getItem('certificateSettings');
  
  if (savedSettings) {
    try {
      const settings = JSON.parse(savedSettings);
      restoreSettings(settings);
      
      if (currentLanguage === 'bangla') {
        alert('‡¶∏‡ßá‡¶ü‡¶ø‡¶Ç‡¶∏ ‡¶≤‡ßã‡¶° ‡¶ï‡¶∞‡¶æ ‡¶π‡ßü‡ßá‡¶õ‡ßá!');
      } else {
        alert('Settings loaded successfully!');
      }
      
    } catch (error) {
      console.error('Error loading settings:', error);
      if (currentLanguage === 'bangla') {
        alert('‡¶∏‡ßá‡¶ü‡¶ø‡¶Ç‡¶∏ ‡¶≤‡ßã‡¶° ‡¶ï‡¶∞‡¶§‡ßá ‡¶∏‡¶Æ‡¶∏‡ßç‡¶Ø‡¶æ ‡¶π‡ßü‡ßá‡¶õ‡ßá!');
      } else {
        alert('Error loading settings!');
      }
    }
  } else {
    if (currentLanguage === 'bangla') {
      alert('‡¶ï‡ßã‡¶®‡ßã ‡¶∏‡ßá‡¶≠ ‡¶ï‡¶∞‡¶æ ‡¶∏‡ßá‡¶ü‡¶ø‡¶Ç‡¶∏ ‡¶®‡ßá‡¶á!');
    } else {
      alert('No saved settings found!');
    }
  }
}

// ‡¶∏‡ßç‡¶≤‡¶æ‡¶á‡¶°‡¶æ‡¶∞ ‡¶Ü‡¶™‡¶°‡ßá‡¶ü ‡¶´‡¶æ‡¶Ç‡¶∂‡¶®
function updateSliderValue(sliderId, valueId) {
  const slider = document.getElementById(sliderId);
  const valueDisplay = document.getElementById(valueId);
  
  if (slider && valueDisplay) {
    if (sliderId === 'font-size-slider') fontSize = parseInt(slider.value);
    else if (sliderId === 'line-height-slider') lineHeight = parseInt(slider.value);
    else if (sliderId === 'indent-slider') textIndent = parseInt(slider.value);
    
    valueDisplay.textContent = slider.value;
    updateCertificateTextStyle();
  }
}

// ‡¶∏‡¶æ‡¶∞‡ßç‡¶ü‡¶ø‡¶´‡¶ø‡¶ï‡ßá‡¶ü ‡¶ü‡ßá‡¶ï‡ßç‡¶∏‡¶ü ‡¶∏‡ßç‡¶ü‡¶æ‡¶á‡¶≤ ‡¶Ü‡¶™‡¶°‡ßá‡¶ü
function updateCertificateTextStyle() {
  const paraElement = document.querySelector('.txt.para');
  if (paraElement) {
    paraElement.style.fontSize = fontSize + 'px';
    paraElement.style.lineHeight = lineHeight + 'px';
    paraElement.style.textIndent = textIndent + 'px';
  }
  
  const dateElement = document.querySelector('.txt.date');
  if (dateElement) {
    dateElement.style.fontSize = (fontSize - 1) + 'px';
  }
  
  const otherElements = document.querySelectorAll('.txt.verify, .txt.principal');
  otherElements.forEach(element => {
    element.style.fontSize = fontSize + 'px';
  });
}

// ‡¶´‡¶®‡ßç‡¶ü ‡¶∏‡¶ø‡¶≤‡ßá‡¶ï‡ßç‡¶ü ‡¶°‡ßç‡¶∞‡¶™‡¶°‡¶æ‡¶â‡¶® ‡¶§‡ßà‡¶∞‡¶ø
function createFontSelectors() {
  const banglaSelect = document.getElementById('bangla-font-select');
  const englishSelect = document.getElementById('english-font-select');
  
  banglaFonts.forEach(font => {
    const option = document.createElement('option');
    option.value = font.name;
    option.textContent = font.display;
    if (font.name === selectedBanglaFont) option.selected = true;
    banglaSelect.appendChild(option);
  });
  
  englishFonts.forEach(font => {
    const option = document.createElement('option');
    option.value = font.name;
    option.textContent = font.display;
    if (font.name === selectedEnglishFont) option.selected = true;
    englishSelect.appendChild(option);
  });
}

// ‡¶´‡¶®‡ßç‡¶ü ‡¶™‡¶∞‡¶ø‡¶¨‡¶∞‡ßç‡¶§‡¶®
function updateFonts() {
  const banglaFontSelect = document.getElementById('bangla-font-select');
  const englishFontSelect = document.getElementById('english-font-select');
  
  if (banglaFontSelect) {
    selectedBanglaFont = banglaFontSelect.value;
  }
  
  if (englishFontSelect) {
    selectedEnglishFont = englishFontSelect.value;
  }
  
  const fontSettings = {
    banglaFont: selectedBanglaFont,
    englishFont: selectedEnglishFont
  };
  localStorage.setItem('fontSettings', JSON.stringify(fontSettings));
  
  updateCertificateFont();
  updateCertificateTextStyle();
}

// ‡¶´‡¶®‡ßç‡¶ü ‡¶∏‡ßá‡¶ü‡¶ø‡¶Ç‡¶∏ ‡¶≤‡ßã‡¶° ‡¶ï‡¶∞‡¶æ
function loadFontSettings() {
  const savedSettings = localStorage.getItem('fontSettings');
  
  if (savedSettings) {
    try {
      const settings = JSON.parse(savedSettings);
      
      if (settings.banglaFont) {
        selectedBanglaFont = settings.banglaFont;
        const banglaSelect = document.getElementById('bangla-font-select');
        if (banglaSelect) banglaSelect.value = selectedBanglaFont;
      }
      
      if (settings.englishFont) {
        selectedEnglishFont = settings.englishFont;
        const englishSelect = document.getElementById('english-font-select');
        if (englishSelect) englishSelect.value = selectedEnglishFont;
      }
    } catch (error) {
      console.error('Error loading font settings:', error);
    }
  }
}

// ‡¶∏‡¶æ‡¶∞‡ßç‡¶ü‡¶ø‡¶´‡¶ø‡¶ï‡ßá‡¶ü ‡¶´‡¶®‡ßç‡¶ü ‡¶Ü‡¶™‡¶°‡ßá‡¶ü
function updateCertificateFont() {
  const isBangla = currentLanguage === 'bangla';
  let fontFamily;
  
  if (isBangla) {
    fontFamily = `'${selectedBanglaFont}', 'Hind Siliguri', 'SolaimanLipi', sans-serif`;
  } else {
    fontFamily = `'${selectedEnglishFont}', Arial, sans-serif`;
  }
  
  const txtElements = document.querySelectorAll('#cert .txt');
  txtElements.forEach(element => {
    element.style.fontFamily = fontFamily;
  });
}

// ‡¶¨‡¶æ‡¶Ç‡¶≤‡¶æ ‡¶≠‡¶æ‡¶∑‡¶æ‡ßü ‡¶™‡¶∞‡¶ø‡¶¨‡¶∞‡ßç‡¶§‡¶®
function changeToBangla() {
  currentLanguage = 'bangla';
  
  document.querySelector('.sidebar h3').textContent = '‡¶õ‡¶æ‡¶§‡ßç‡¶∞‡ßá‡¶∞ ‡¶§‡¶•‡ßç‡¶Ø';
  document.getElementById('save-btn').textContent = '‡¶∏‡ßá‡¶ü‡¶ø‡¶Ç‡¶∏ ‡¶∏‡ßá‡¶≠ ‡¶ï‡¶∞‡ßÅ‡¶®';
  document.getElementById('load-btn').textContent = '‡¶∏‡ßá‡¶ü‡¶ø‡¶Ç‡¶∏ ‡¶≤‡ßã‡¶° ‡¶ï‡¶∞‡ßÅ‡¶®';
  document.getElementById('backup-btn').textContent = '‡¶¨‡ßç‡¶Ø‡¶æ‡¶ï‡¶Ü‡¶™ ‡¶§‡ßà‡¶∞‡¶ø ‡¶ï‡¶∞‡ßÅ‡¶®';
  document.getElementById('restore-btn').textContent = '‡¶¨‡ßç‡¶Ø‡¶æ‡¶ï‡¶Ü‡¶™ ‡¶∞‡¶ø‡¶∏‡ßç‡¶ü‡ßã‡¶∞ ‡¶ï‡¶∞‡ßÅ‡¶®';
  
  document.getElementById('sname-label').textContent = '‡¶õ‡¶æ‡¶§‡ßç‡¶∞‡ßá‡¶∞ ‡¶®‡¶æ‡¶Æ:';
  document.getElementById('fname-label').textContent = '‡¶™‡¶ø‡¶§‡¶æ‡¶∞ ‡¶®‡¶æ‡¶Æ:';
  document.getElementById('mname-label').textContent = '‡¶Æ‡¶æ‡¶§‡¶æ‡¶∞ ‡¶®‡¶æ‡¶Æ:';
  document.getElementById('group-label').textContent = '‡¶ó‡ßç‡¶∞‡ßÅ‡¶™:';
  document.getElementById('year-label').textContent = '‡¶™‡¶æ‡¶∏‡ßá‡¶∞ ‡¶¨‡¶õ‡¶∞:';
  document.getElementById('gpa-label').textContent = '‡¶ú‡¶ø‡¶™‡¶ø‡¶è:';
  document.getElementById('grade-label').textContent = '‡¶ó‡ßç‡¶∞‡ßá‡¶°:';
  document.getElementById('roll-label').textContent = '‡¶∞‡ßã‡¶≤ ‡¶®‡¶Æ‡ßç‡¶¨‡¶∞:';
  document.getElementById('reg-label').textContent = '‡¶∞‡ßá‡¶ú‡¶ø‡¶∏‡ßç‡¶ü‡ßç‡¶∞‡ßá‡¶∂‡¶® ‡¶®‡¶Æ‡ßç‡¶¨‡¶∞:';
  document.getElementById('session-label').textContent = '‡¶∏‡ßá‡¶∂‡¶®:';
  document.getElementById('board-label').textContent = '‡¶¨‡ßã‡¶∞‡ßç‡¶°:';
  document.getElementById('dob-label').textContent = '‡¶ú‡¶®‡ßç‡¶Æ ‡¶§‡¶æ‡¶∞‡¶ø‡¶ñ:';
  document.getElementById('issue-label').textContent = '‡¶á‡¶∏‡ßç‡¶Ø‡ßÅ ‡¶§‡¶æ‡¶∞‡¶ø‡¶ñ:';
  
  document.getElementById('text-controls-label').textContent = '‡¶ü‡ßá‡¶ï‡ßç‡¶∏‡¶ü ‡¶ï‡¶®‡ßç‡¶ü‡ßç‡¶∞‡ßã‡¶≤:';
  document.getElementById('font-size-label').textContent = '‡¶´‡¶®‡ßç‡¶ü ‡¶∏‡¶æ‡¶á‡¶ú:';
  document.getElementById('line-height-label').textContent = '‡¶≤‡¶æ‡¶á‡¶® ‡¶ó‡ßç‡¶Ø‡¶æ‡¶™:';
  document.getElementById('indent-label').textContent = '‡¶™‡ßç‡¶Ø‡¶æ‡¶∞‡¶æ ‡¶á‡¶®‡¶°‡ßá‡¶®‡ßç‡¶ü:';
  
  document.getElementById('font-label').textContent = '‡¶´‡¶®‡ßç‡¶ü ‡¶∏‡¶ø‡¶≤‡ßá‡¶ï‡ßç‡¶ü ‡¶ï‡¶∞‡ßÅ‡¶®:';
  document.getElementById('bangla-font-label').textContent = '‡¶¨‡¶æ‡¶Ç‡¶≤‡¶æ ‡¶´‡¶®‡ßç‡¶ü:';
  document.getElementById('english-font-label').textContent = '‡¶á‡¶Ç‡¶∞‡ßá‡¶ú‡¶ø ‡¶´‡¶®‡ßç‡¶ü:';
  
  document.getElementById('sname').placeholder = '‡¶õ‡¶æ‡¶§‡ßç‡¶∞‡ßá‡¶∞ ‡¶®‡¶æ‡¶Æ ‡¶≤‡¶ø‡¶ñ‡ßÅ‡¶®';
  document.getElementById('fname').placeholder = '‡¶™‡¶ø‡¶§‡¶æ‡¶∞ ‡¶®‡¶æ‡¶Æ ‡¶≤‡¶ø‡¶ñ‡ßÅ‡¶®';
  document.getElementById('mname').placeholder = '‡¶Æ‡¶æ‡¶§‡¶æ‡¶∞ ‡¶®‡¶æ‡¶Æ ‡¶≤‡¶ø‡¶ñ‡ßÅ‡¶®';
  document.getElementById('group').placeholder = '‡¶Ø‡ßá‡¶Æ‡¶®: ‡¶¨‡¶ø‡¶ú‡ßç‡¶û‡¶æ‡¶®, ‡¶Æ‡¶æ‡¶®‡¶¨‡¶ø‡¶ï';
  document.getElementById('year').placeholder = '‡¶Ø‡ßá‡¶Æ‡¶®: ‡ß®‡ß¶‡ß®‡ß©';
  document.getElementById('gpa').placeholder = '‡¶Ø‡ßá‡¶Æ‡¶®: ‡ß´.‡ß¶‡ß¶';
  document.getElementById('grade').placeholder = '‡¶Ø‡ßá‡¶Æ‡¶®: ‡¶è+';
  document.getElementById('roll').placeholder = '‡¶Ø‡ßá‡¶Æ‡¶®: ‡ßß‡ß®‡ß©‡ß™‡ß´‡ß¨';
  document.getElementById('reg').placeholder = '‡¶Ø‡ßá‡¶Æ‡¶®: ‡ßß‡ß®‡ß©‡ß™‡ß´‡ß¨‡ß≠‡ßÆ‡ßØ';
  document.getElementById('session').placeholder = '‡¶Ø‡ßá‡¶Æ‡¶®: ‡ß®‡ß¶‡ß®‡ßß-‡ß®‡ß¶‡ß®‡ß®';
  document.getElementById('board').placeholder = '‡¶Ø‡ßá‡¶Æ‡¶®: ‡¶¢‡¶æ‡¶ï‡¶æ';
  document.getElementById('dob').placeholder = '‡¶¶‡¶ø‡¶®/‡¶Æ‡¶æ‡¶∏/‡¶¨‡¶õ‡¶∞';
  
  document.getElementById('group-custom-input').placeholder = '‡¶®‡¶§‡ßÅ‡¶® ‡¶Ø‡ßã‡¶ó ‡¶ï‡¶∞‡ßÅ‡¶®';
  document.getElementById('year-custom-input').placeholder = '‡¶®‡¶§‡ßÅ‡¶® ‡¶Ø‡ßã‡¶ó ‡¶ï‡¶∞‡ßÅ‡¶®';
  document.getElementById('gpa-custom-input').placeholder = '‡¶®‡¶§‡ßÅ‡¶® ‡¶Ø‡ßã‡¶ó ‡¶ï‡¶∞‡ßÅ‡¶®';
  document.getElementById('grade-custom-input').placeholder = '‡¶®‡¶§‡ßÅ‡¶® ‡¶Ø‡ßã‡¶ó ‡¶ï‡¶∞‡ßÅ‡¶®';
  document.getElementById('session-custom-input').placeholder = '‡¶®‡¶§‡ßÅ‡¶® ‡¶Ø‡ßã‡¶ó ‡¶ï‡¶∞‡ßÅ‡¶®';
  document.getElementById('board-custom-input').placeholder = '‡¶®‡¶§‡ßÅ‡¶® ‡¶Ø‡ßã‡¶ó ‡¶ï‡¶∞‡ßÅ‡¶®';
  
  document.getElementById('group-add-btn').textContent = '+ ‡¶Ø‡ßã‡¶ó ‡¶ï‡¶∞‡ßÅ‡¶®';
  document.getElementById('year-add-btn').textContent = '+ ‡¶Ø‡ßã‡¶ó ‡¶ï‡¶∞‡ßÅ‡¶®';
  document.getElementById('gpa-add-btn').textContent = '+ ‡¶Ø‡ßã‡¶ó ‡¶ï‡¶∞‡ßÅ‡¶®';
  document.getElementById('grade-add-btn').textContent = '+ ‡¶Ø‡ßã‡¶ó ‡¶ï‡¶∞‡ßÅ‡¶®';
  document.getElementById('session-add-btn').textContent = '+ ‡¶Ø‡ßã‡¶ó ‡¶ï‡¶∞‡ßÅ‡¶®';
  document.getElementById('board-add-btn').textContent = '+ ‡¶Ø‡ßã‡¶ó ‡¶ï‡¶∞‡ßÅ‡¶®';
  
  const buttons = document.querySelectorAll('.sidebar button');
  if (buttons[0]) buttons[0].textContent = '‡¶∏‡¶æ‡¶∞‡ßç‡¶ü‡¶ø‡¶´‡¶ø‡¶ï‡ßá‡¶ü ‡¶§‡ßà‡¶∞‡¶ø ‡¶ï‡¶∞‡ßÅ‡¶®';
  if (buttons[1]) buttons[1].textContent = '‡¶™‡ßç‡¶∞‡¶ø‡¶®‡ßç‡¶ü / ‡¶™‡¶ø‡¶°‡¶ø‡¶è‡¶´ ‡¶∏‡ßá‡¶≠ ‡¶ï‡¶∞‡ßÅ‡¶®';
  
  document.querySelector('.txt.verify').textContent = '‡¶Ø‡¶æ‡¶ö‡¶æ‡¶á‡¶ï‡¶æ‡¶∞‡ßÄ';
  document.querySelector('.txt.principal').textContent = '‡¶™‡ßç‡¶∞‡¶§‡¶ø‡¶∑‡ßç‡¶†‡¶æ‡¶® ‡¶™‡ßç‡¶∞‡¶ß‡¶æ‡¶®';
  
  document.getElementById('bangla-font-label').style.display = 'block';
  document.getElementById('bangla-font-select').style.display = 'block';
  document.getElementById('english-font-label').style.display = 'none';
  document.getElementById('english-font-select').style.display = 'none';
  
  document.getElementById('bangla-btn').style.display = 'none';
  document.getElementById('english-btn').style.display = 'inline-block';
  
  createSelectDropdowns();
  updateCertificateFont();
  updateCertificateImage();
}

// ‡¶á‡¶Ç‡¶∞‡ßá‡¶ú‡¶ø ‡¶≠‡¶æ‡¶∑‡¶æ‡ßü ‡¶™‡¶∞‡¶ø‡¶¨‡¶∞‡ßç‡¶§‡¶®
function changeToEnglish() {
  currentLanguage = 'english';
  
  document.querySelector('.sidebar h3').textContent = 'Student Information';
  document.getElementById('save-btn').textContent = 'Save Settings';
  document.getElementById('load-btn').textContent = 'Load Settings';
  document.getElementById('backup-btn').textContent = 'Create Backup';
  document.getElementById('restore-btn').textContent = 'Restore Backup';
  
  document.getElementById('sname-label').textContent = 'Student Name:';
  document.getElementById('fname-label').textContent = 'Father\'s Name:';
  document.getElementById('mname-label').textContent = 'Mother\'s Name:';
  document.getElementById('group-label').textContent = 'Group:';
  document.getElementById('year-label').textContent = 'Passing Year:';
  document.getElementById('gpa-label').textContent = 'GPA:';
  document.getElementById('grade-label').textContent = 'Grade:';
  document.getElementById('roll-label').textContent = 'Roll No:';
  document.getElementById('reg-label').textContent = 'Registration No:';
  document.getElementById('session-label').textContent = 'Session:';
  document.getElementById('board-label').textContent = 'Board:';
  document.getElementById('dob-label').textContent = 'Date of Birth:';
  document.getElementById('issue-label').textContent = 'Issue Date:';
  
  document.getElementById('text-controls-label').textContent = 'Text Controls:';
  document.getElementById('font-size-label').textContent = 'Font Size:';
  document.getElementById('line-height-label').textContent = 'Line Height:';
  document.getElementById('indent-label').textContent = 'Paragraph Indent:';
  
  document.getElementById('font-label').textContent = 'Select Font:';
  document.getElementById('bangla-font-label').textContent = 'Bangla Font:';
  document.getElementById('english-font-label').textContent = 'English Font:';
  
  document.getElementById('sname').placeholder = 'Enter student name';
  document.getElementById('fname').placeholder = 'Enter father\'s name';
  document.getElementById('mname').placeholder = 'Enter mother\'s name';
  document.getElementById('group').placeholder = 'e.g., Science, Arts';
  document.getElementById('year').placeholder = 'e.g., 2023';
  document.getElementById('gpa').placeholder = 'e.g., 5.00';
  document.getElementById('grade').placeholder = 'e.g., A+';
  document.getElementById('roll').placeholder = 'e.g., 123456';
  document.getElementById('reg').placeholder = 'e.g., 123456789';
  document.getElementById('session').placeholder = 'e.g., 2021-2022';
  document.getElementById('board').placeholder = 'e.g., Dhaka';
  document.getElementById('dob').placeholder = 'DD/MM/YYYY';
  
  document.getElementById('group-custom-input').placeholder = 'Add new';
  document.getElementById('year-custom-input').placeholder = 'Add new';
  document.getElementById('gpa-custom-input').placeholder = 'Add new';
  document.getElementById('grade-custom-input').placeholder = 'Add new';
  document.getElementById('session-custom-input').placeholder = 'Add new';
  document.getElementById('board-custom-input').placeholder = 'Add new';
  
  document.getElementById('group-add-btn').textContent = '+ Add';
  document.getElementById('year-add-btn').textContent = '+ Add';
  document.getElementById('gpa-add-btn').textContent = '+ Add';
  document.getElementById('grade-add-btn').textContent = '+ Add';
  document.getElementById('session-add-btn').textContent = '+ Add';
  document.getElementById('board-add-btn').textContent = '+ Add';
  
  const buttons = document.querySelectorAll('.sidebar button');
  if (buttons[0]) buttons[0].textContent = 'Generate Certificate';
  if (buttons[1]) buttons[1].textContent = 'Print / Save PDF';
  
  document.querySelector('.txt.verify').textContent = 'Verified by';
  document.querySelector('.txt.principal').textContent = 'Principal';
  
  document.getElementById('bangla-font-label').style.display = 'none';
  document.getElementById('bangla-font-select').style.display = 'none';
  document.getElementById('english-font-label').style.display = 'block';
  document.getElementById('english-font-select').style.display = 'block';
  
  document.getElementById('english-btn').style.display = 'none';
  document.getElementById('bangla-btn').style.display = 'inline-block';
  
  createSelectDropdowns();
  updateCertificateFont();
  updateCertificateImage();
}

// ‡¶∏‡¶æ‡¶∞‡ßç‡¶ü‡¶ø‡¶´‡¶ø‡¶ï‡ßá‡¶ü‡ßá‡¶∞ ‡¶¨‡ßç‡¶Ø‡¶æ‡¶ï‡¶ó‡ßç‡¶∞‡¶æ‡¶â‡¶®‡ßç‡¶° ‡¶á‡¶Æ‡ßá‡¶ú ‡¶Ü‡¶™‡¶°‡ßá‡¶ü
function updateCertificateImage() {
  const certImg = document.querySelector('#cert img');
  if (certImg) {
    if (currentLanguage === 'bangla') {
      certImg.src = 'testimonial-bg-bangla.jpg';
      certImg.alt = 'Bengali Testimonial Background';
    } else {
      certImg.src = 'testimonial-bg-english.jpg';
      certImg.alt = 'English Testimonial Background';
    }
  }
}

// ‡¶™‡ßá‡¶ú ‡¶≤‡ßã‡¶° ‡¶π‡¶≤‡ßá ‡¶´‡¶®‡ßç‡¶ü ‡¶∏‡¶ø‡¶≤‡ßá‡¶ï‡ßç‡¶ü‡¶∞ ‡¶§‡ßà‡¶∞‡¶ø
document.addEventListener('DOMContentLoaded', function() {
  createFontSelectors();
  createSelectDropdowns();
  loadFontSettings();
  
  document.getElementById('font-size-slider').value = fontSize;
  document.getElementById('line-height-slider').value = lineHeight;
  document.getElementById('indent-slider').value = textIndent;
  
  document.getElementById('font-size-value').textContent = fontSize;
  document.getElementById('line-height-value').textContent = lineHeight;
  document.getElementById('indent-value').textContent = textIndent;
  
  updateCertificateFont();
  
  const savedSettings = localStorage.getItem('certificateSettings');
  if (savedSettings) {
    console.log('Saved settings found');
  }
  
  // ‡¶¨‡ßç‡¶Ø‡¶æ‡¶ï‡¶Ü‡¶™ ‡¶ï‡¶æ‡¶â‡¶®‡ßç‡¶ü ‡¶ö‡ßá‡¶ï
  const backups = getBackups();
  console.log('Available backups on load:', backups.length);
});
</script>

<!-- ===== SIDEBAR FORM ===== -->
<div class="sidebar">
    <h3>Student Information</h3>
    
    <!-- ‡¶≠‡¶æ‡¶∑‡¶æ ‡¶™‡¶∞‡¶ø‡¶¨‡¶∞‡ßç‡¶§‡¶®‡ßá‡¶∞ ‡¶¨‡¶æ‡¶ü‡¶® -->
    <div class="language-buttons">
        <button id="bangla-btn" onclick="changeToBangla()">‡¶¨‡¶æ‡¶Ç‡¶≤‡¶æ</button>
        <button id="english-btn" onclick="changeToEnglish()" style="display: none;">English</button>
    </div>

    <!-- ‡¶∏‡ßá‡¶ü‡¶ø‡¶Ç‡¶∏ ‡¶∏‡ßá‡¶≠/‡¶≤‡ßã‡¶° ‡¶¨‡¶æ‡¶ü‡¶® -->
    <div class="settings-buttons">
        <button id="save-btn" onclick="saveSettings()" style="background: #28a745;">Save Settings</button>
        <button id="load-btn" onclick="loadSettings()" style="background: #ffc107; color: #212529;">Load Settings</button>
    </div>

    <!-- ‡¶¨‡ßç‡¶Ø‡¶æ‡¶ï‡¶Ü‡¶™ ‡¶∏‡¶ø‡¶∏‡ßç‡¶ü‡ßá‡¶Æ ‡¶¨‡¶æ‡¶ü‡¶® -->
    <div class="backup-buttons">
        <button id="backup-btn" onclick="createBackup()" style="background: #17a2b8;">Create Backup</button>
        <button id="restore-btn" onclick="restoreBackup()" style="background: #6f42c1;">Restore Backup</button>
    </div>

    <!-- ‡¶´‡¶®‡ßç‡¶ü ‡¶∏‡¶ø‡¶≤‡ßá‡¶ï‡ßç‡¶ü‡¶∞ -->
    <div class="font-selector-container">
        <span id="font-label" class="font-label">Select Font:</span>
        
        <!-- ‡¶¨‡¶æ‡¶Ç‡¶≤‡¶æ ‡¶´‡¶®‡ßç‡¶ü ‡¶∏‡¶ø‡¶≤‡ßá‡¶ï‡ßç‡¶ü‡¶∞ -->
        <div>
            <span id="bangla-font-label" class="font-label" style="display: none;">Bangla Font:</span>
            <select id="bangla-font-select" onchange="updateFonts();" style="display: none;">
                <!-- JavaScript ‡¶¶‡¶ø‡ßü‡ßá ‡¶Ö‡¶™‡¶∂‡¶®‡¶∏ ‡¶Ø‡ßÅ‡¶ï‡ßç‡¶§ ‡¶π‡¶¨‡ßá -->
            </select>
        </div>
        
        <!-- ‡¶á‡¶Ç‡¶∞‡ßá‡¶ú‡¶ø ‡¶´‡¶®‡ßç‡¶ü ‡¶∏‡¶ø‡¶≤‡ßá‡¶ï‡ßç‡¶ü‡¶∞ -->
        <div>
            <span id="english-font-label" class="font-label">English Font:</span>
            <select id="english-font-select" onchange="updateFonts();">
                <!-- JavaScript ‡¶¶‡¶ø‡ßü‡ßá ‡¶Ö‡¶™‡¶∂‡¶®‡¶∏ ‡¶Ø‡ßÅ‡¶ï‡ßç‡¶§ ‡¶π‡¶¨‡ßá -->
            </select>
        </div>
    </div>
    
    <!-- ‡¶ü‡ßá‡¶ï‡ßç‡¶∏‡¶ü ‡¶ï‡¶®‡ßç‡¶ü‡ßç‡¶∞‡ßã‡¶≤ ‡¶∏‡ßç‡¶≤‡¶æ‡¶á‡¶°‡¶æ‡¶∞ -->
    <div class="text-controls-container">
        <span id="text-controls-label" class="font-label">Text Controls:</span>
        
        <!-- ‡¶´‡¶®‡ßç‡¶ü ‡¶∏‡¶æ‡¶á‡¶ú ‡¶∏‡ßç‡¶≤‡¶æ‡¶á‡¶°‡¶æ‡¶∞ -->
        <div class="control-group">
            <label id="font-size-label">Font Size:</label>
            <div class="slider-container">
                <input type="range" id="font-size-slider" class="slider" min="12" max="28" value="18" 
                       oninput="updateSliderValue('font-size-slider', 'font-size-value')">
                <span id="font-size-value" class="slider-value">18</span>
            </div>
        </div>
        
        <!-- ‡¶≤‡¶æ‡¶á‡¶® ‡¶π‡¶æ‡¶á‡¶ü ‡¶∏‡ßç‡¶≤‡¶æ‡¶á‡¶°‡¶æ‡¶∞ -->
        <div class="control-group">
            <label id="line-height-label">Line Height:</label>
            <div class="slider-container">
                <input type="range" id="line-height-slider" class="slider" min="20" max="50" value="35" 
                       oninput="updateSliderValue('line-height-slider', 'line-height-value')">
                <span id="line-height-value" class="slider-value">35</span>
            </div>
        </div>
        
        <!-- ‡¶™‡ßç‡¶Ø‡¶æ‡¶∞‡¶æ ‡¶á‡¶®‡¶°‡ßá‡¶®‡ßç‡¶ü ‡¶∏‡ßç‡¶≤‡¶æ‡¶á‡¶°‡¶æ‡¶∞ -->
        <div class="control-group">
            <label id="indent-label">Paragraph Indent:</label>
            <div class="slider-container">
                <input type="range" id="indent-slider" class="slider" min="0" max="50" value="0" 
                       oninput="updateSliderValue('indent-slider', 'indent-value')">
                <span id="indent-value" class="slider-value">0</span>
            </div>
        </div>
    </div>

    <div class="input-group">
        <label id="sname-label">Student Name:</label>
        <input id="sname" placeholder="Enter student name">
    </div>
    
    <div class="input-group">
        <label id="fname-label">Father's Name:</label>
        <input id="fname" placeholder="Enter father's name">
    </div>
    
    <div class="input-group">
        <label id="mname-label">Mother's Name:</label>
        <input id="mname" placeholder="Enter mother's name">
    </div>
    
    <!-- ‡¶ó‡ßç‡¶∞‡ßÅ‡¶™ ‡¶∏‡¶ø‡¶≤‡ßá‡¶ï‡ßç‡¶ü‡¶∞ -->
    <div class="input-group">
        <label id="group-label">Group:</label>
        <div style="display: flex; gap: 5px;">
            <select id="group-select" onchange="updateInputFromSelect('group-select', 'groups')" style="flex: 1;">
                <option value="">Select...</option>
            </select>
            <input id="group" placeholder="e.g., Science, Arts" style="flex: 2;">
            <div class="custom-input-container">
                <input id="group-custom-input" placeholder="Add new" style="flex: 1;">
                <button id="group-add-btn" onclick="addCustomOption('groups', 'group-custom-input', 'group-select')">+ Add</button>
            </div>
        </div>
    </div>
    
    <!-- ‡¶™‡¶æ‡¶∏‡ßá‡¶∞ ‡¶¨‡¶õ‡¶∞ ‡¶∏‡¶ø‡¶≤‡ßá‡¶ï‡ßç‡¶ü‡¶∞ -->
    <div class="input-group">
        <label id="year-label">Passing Year:</label>
        <div style="display: flex; gap: 5px;">
            <select id="year-select" onchange="updateInputFromSelect('year-select', 'years')" style="flex: 1;">
                <option value="">Select...</option>
            </select>
            <input id="year" placeholder="e.g., 2023" style="flex: 2;">
            <div class="custom-input-container">
                <input id="year-custom-input" placeholder="Add new" style="flex: 1;">
                <button id="year-add-btn" onclick="addCustomOption('years', 'year-custom-input', 'year-select')">+ Add</button>
            </div>
        </div>
    </div>
    
    <!-- ‡¶ú‡¶ø‡¶™‡¶ø‡¶è ‡¶∏‡¶ø‡¶≤‡ßá‡¶ï‡ßç‡¶ü‡¶∞ -->
    <div class="input-group">
        <label id="gpa-label">GPA:</label>
        <div style="display: flex; gap: 5px;">
            <select id="gpa-select" onchange="updateInputFromSelect('gpa-select', 'gpa')" style="flex: 1;">
                <option value="">Select...</option>
            </select>
            <input id="gpa" placeholder="e.g., 5.00" style="flex: 2;">
            <div class="custom-input-container">
                <input id="gpa-custom-input" placeholder="Add new" style="flex: 1;">
                <button id="gpa-add-btn" onclick="addCustomOption('gpa', 'gpa-custom-input', 'gpa-select')">+ Add</button>
            </div>
        </div>
    </div>
    
    <!-- ‡¶ó‡ßç‡¶∞‡ßá‡¶° ‡¶∏‡¶ø‡¶≤‡ßá‡¶ï‡ßç‡¶ü‡¶∞ -->
    <div class="input-group">
        <label id="grade-label">Grade:</label>
        <div style="display: flex; gap: 5px;">
            <select id="grade-select" onchange="updateInputFromSelect('grade-select', 'grades')" style="flex: 1;">
                <option value="">Select...</option>
            </select>
            <input id="grade" placeholder="e.g., A+" style="flex: 2;">
            <div class="custom-input-container">
                <input id="grade-custom-input" placeholder="Add new" style="flex: 1;">
                <button id="grade-add-btn" onclick="addCustomOption('grades', 'grade-custom-input', 'grade-select')">+ Add</button>
            </div>
        </div>
    </div>
    
    <div class="input-group">
        <label id="roll-label">Roll No:</label>
        <input id="roll" placeholder="e.g., 123456">
    </div>
    
    <div class="input-group">
        <label id="reg-label">Registration No:</label>
        <input id="reg" placeholder="e.g., 123456789">
    </div>
    
    <!-- ‡¶∏‡ßá‡¶∂‡¶® ‡¶∏‡¶ø‡¶≤‡ßá‡¶ï‡ßç‡¶ü‡¶∞ -->
    <div class="input-group">
        <label id="session-label">Session:</label>
        <div style="display: flex; gap: 5px;">
            <select id="session-select" onchange="updateInputFromSelect('session-select', 'sessions')" style="flex: 1;">
                <option value="">Select...</option>
            </select>
            <input id="session" placeholder="e.g., 2021-2022" style="flex: 2;">
            <div class="custom-input-container">
                <input id="session-custom-input" placeholder="Add new" style="flex: 1;">
                <button id="session-add-btn" onclick="addCustomOption('sessions', 'session-custom-input', 'session-select')">+ Add</button>
            </div>
        </div>
    </div>
    
    <!-- ‡¶¨‡ßã‡¶∞‡ßç‡¶° ‡¶∏‡¶ø‡¶≤‡ßá‡¶ï‡ßç‡¶ü‡¶∞ -->
    <div class="input-group">
        <label id="board-label">Board:</label>
        <div style="display: flex; gap: 5px;">
            <select id="board-select" onchange="updateInputFromSelect('board-select', 'boards')" style="flex: 1;">
                <option value="">Select...</option>
            </select>
            <input id="board" placeholder="e.g., Dhaka" style="flex: 2;">
            <div class="custom-input-container">
                <input id="board-custom-input" placeholder="Add new" style="flex: 1;">
                <button id="board-add-btn" onclick="addCustomOption('boards', 'board-custom-input', 'board-select')">+ Add</button>
            </div>
        </div>
    </div>
    
    <div class="input-group">
        <label id="dob-label">Date of Birth:</label>
        <input id="dob" placeholder="DD/MM/YYYY">
    </div>
    
    <div class="input-group">
        <label id="issue-label">Issue Date:</label>
        <input id="issue" type="date">
    </div>

    <button onclick="generate()">Generate Certificate</button>
    <button onclick="window.print()">Print / Save PDF</button>
    
    <!-- ‡¶è‡¶ï‡ßç‡¶∏‡¶ü‡ßç‡¶∞‡¶æ ‡¶¨‡ßç‡¶Ø‡¶æ‡¶ï‡¶Ü‡¶™ ‡¶Ö‡¶™‡¶∂‡¶® -->
    <div style="margin-top: 20px; padding-top: 15px; border-top: 1px solid #dee2e6;">
        <button onclick="exportBackup()" style="background: #20c997; margin-bottom: 5px;">Export Backup File</button>
        <button onclick="importBackup()" style="background: #fd7e14;">Import Backup File</button>
        <button onclick="viewBackups()" style="background: #6f42c1; margin-top: 5px;">View All Backups</button>
    </div>
</div>

<!-- ===== MAIN CONTENT ===== -->
<div class="main-content">
    <!-- ===== CERTIFICATE ===== -->
    <div id="cert">
        <!-- ‡¶°‡¶ø‡¶´‡¶≤‡ßç‡¶ü ‡¶á‡¶Ç‡¶∞‡ßá‡¶ú‡¶ø ‡¶á‡¶Æ‡ßá‡¶ú -->
        <img src="testimonial-bg-english.jpg" alt="English Testimonial Background">

        <div class="txt para" id="d_para"></div>

        <div class="txt date" id="d_date"></div>
        <div class="txt verify">Verified by</div>
        <div class="txt principal">Principal</div>
    </div>
</div>

<script>
// ‡¶§‡¶æ‡¶∞‡¶ø‡¶ñ ‡¶´‡¶∞‡¶Æ‡ßç‡¶Ø‡¶æ‡¶ü ‡¶´‡¶æ‡¶Ç‡¶∂‡¶®
function formatDate(d, isBangla = false){
    if (!d) return '';
    
    const date = new Date(d);
    
    if (isBangla) {
        const banglaMonths = [
            '‡¶ú‡¶æ‡¶®‡ßÅ‡ßü‡¶æ‡¶∞‡¶ø', '‡¶´‡ßá‡¶¨‡ßç‡¶∞‡ßÅ‡ßü‡¶æ‡¶∞‡¶ø', '‡¶Æ‡¶æ‡¶∞‡ßç‡¶ö', '‡¶è‡¶™‡ßç‡¶∞‡¶ø‡¶≤', '‡¶Æ‡ßá', '‡¶ú‡ßÅ‡¶®',
            '‡¶ú‡ßÅ‡¶≤‡¶æ‡¶á', '‡¶Ü‡¶ó‡¶∏‡ßç‡¶ü', '‡¶∏‡ßá‡¶™‡ßç‡¶ü‡ßá‡¶Æ‡ßç‡¶¨‡¶∞', '‡¶Ö‡¶ï‡ßç‡¶ü‡ßã‡¶¨‡¶∞', '‡¶®‡¶≠‡ßá‡¶Æ‡ßç‡¶¨‡¶∞', '‡¶°‡¶ø‡¶∏‡ßá‡¶Æ‡ßç‡¶¨‡¶∞'
        ];
        
        const day = date.getDate();
        const month = banglaMonths[date.getMonth()];
        const year = date.getFullYear();
        
        return `${day} ${month} ${year}`;
    } else {
        return date.toLocaleDateString('en-GB');
    }
}

// ‡¶∏‡¶æ‡¶∞‡ßç‡¶ü‡¶ø‡¶´‡¶ø‡¶ï‡ßá‡¶ü ‡¶ú‡ßá‡¶®‡¶æ‡¶∞‡ßá‡¶ü ‡¶´‡¶æ‡¶Ç‡¶∂‡¶®
function generate(){
    document.getElementById("cert").style.display="block";
    
    updateCertificateImage();
    updateCertificateFont();
    
    const isBangla = currentLanguage === 'bangla';
    
    if (isBangla) {
        d_para.innerHTML =
        `‡¶è‡¶á ‡¶Æ‡¶∞‡ßç‡¶Æ‡ßá ‡¶™‡ßç‡¶∞‡¶§‡ßç‡¶Ø‡¶Ø‡¶º‡¶® ‡¶ï‡¶∞‡¶æ ‡¶Ø‡¶æ‡¶ö‡ßç‡¶õ‡ßá ‡¶Ø‡ßá, ${sname.value}, ‡¶™‡¶ø‡¶§‡¶æ‡¶∞ ‡¶®‡¶æ‡¶Æ:
        ${fname.value}, ‡¶Æ‡¶æ‡¶§‡¶æ‡¶∞ ‡¶®‡¶æ‡¶Æ: ${mname.value}
        ‡¶è‡¶á ‡¶ï‡¶≤‡ßá‡¶ú‡ßá‡¶∞ ‡¶è‡¶ï‡¶ú‡¶® ‡¶∂‡¶ø‡¶ï‡ßç‡¶∑‡¶æ‡¶∞‡ßç‡¶•‡ßÄ ‡¶õ‡¶ø‡¶≤‡•§ ‡¶∏‡ßá
        ‡¶â‡¶ö‡ßç‡¶ö ‡¶Æ‡¶æ‡¶ß‡ßç‡¶Ø‡¶Æ‡¶ø‡¶ï ‡¶∏‡¶æ‡¶∞‡ßç‡¶ü‡¶ø‡¶´‡¶ø‡¶ï‡ßá‡¶ü ‡¶™‡¶∞‡ßÄ‡¶ï‡ßç‡¶∑‡¶æ‡ßü ${year.value} ‡¶∏‡¶æ‡¶≤‡ßá
        ${group.value} ‡¶¨‡¶ø‡¶≠‡¶æ‡¶ó ‡¶•‡ßá‡¶ï‡ßá ‡¶â‡¶§‡ßç‡¶§‡ßÄ‡¶∞‡ßç‡¶£ ‡¶π‡ßü‡•§
        ‡¶§‡¶æ‡¶∞ ‡¶ú‡¶ø‡¶™‡¶ø‡¶è ${gpa.value}, ‡¶ó‡ßç‡¶∞‡ßá‡¶° ${grade.value},
        ‡¶∞‡ßã‡¶≤ ‡¶®‡¶Ç: ${roll.value},
        ‡¶∞‡ßá‡¶ú‡¶ø ‡¶®‡¶Ç: ${reg.value},
        ‡¶∏‡ßá‡¶∂‡¶®: ${session.value},
        ‡¶¨‡ßã‡¶∞‡ßç‡¶°: ${board.value},
        ‡¶ú‡¶®‡ßç‡¶Æ ‡¶§‡¶æ‡¶∞‡¶ø‡¶ñ: ${dob.value}‡•§
        ‡¶è‡¶á ‡¶ï‡¶≤‡ßá‡¶ú‡ßá ‡¶Ö‡¶ß‡ßç‡¶Ø‡¶Ø‡¶º‡¶®‡¶ï‡¶æ‡¶≤‡ßá ‡¶∏‡ßá ‡¶∞‡¶æ‡¶∑‡ßç‡¶ü‡ßç‡¶∞ ‡¶¨‡¶æ ‡¶™‡ßç‡¶∞‡¶§‡¶ø‡¶∑‡ßç‡¶†‡¶æ‡¶® ‡¶¨‡¶ø‡¶∞‡ßã‡¶ß‡ßÄ ‡¶ï‡ßã‡¶®‡¶ì ‡¶ï‡¶æ‡¶ú‡ßá ‡¶Ö‡¶Ç‡¶∂‡¶ó‡ßç‡¶∞‡¶π‡¶£ ‡¶ï‡¶∞‡ßá‡¶®‡¶ø‡•§
        <br><br>
        <span style="display: inline-block; margin-left: ${textIndent}px;">‡¶Ü‡¶Æ‡¶ø ‡¶§‡¶æ‡¶∞ ‡¶ú‡ßÄ‡¶¨‡¶®‡ßá‡¶∞ ‡¶∏‡¶´‡¶≤‡¶§‡¶æ ‡¶ì ‡¶∏‡¶Æ‡ßÉ‡¶¶‡ßç‡¶ß‡¶ø ‡¶ï‡¶æ‡¶Æ‡¶®‡¶æ ‡¶ï‡¶∞‡¶ø‡•§</span>`;
        
        const formattedDate = formatDate(issue.value, true);
        d_date.innerText = "‡¶§‡¶æ‡¶∞‡¶ø‡¶ñ: " + formattedDate;
        
        document.querySelector('.txt.verify').textContent = '‡¶Ø‡¶æ‡¶ö‡¶æ‡¶á‡¶ï‡¶æ‡¶∞‡ßÄ';
        document.querySelector('.txt.principal').textContent = '‡¶Ö‡¶ß‡ßç‡¶Ø‡¶ï‡ßç‡¶∑';
    } else {
        d_para.innerHTML =
        `This is to certify that ${sname.value}, Father's name:
        ${fname.value}, Mother's name: ${mname.value},
        was a student of this college. She passed the
        Higher Secondary Certificate Examination held in the year
        ${year.value} from ${group.value} group.
        She obtained GPA ${gpa.value}, Grade ${grade.value},
        bearing Roll No. ${roll.value},
        Reg. No. ${reg.value},
        Session ${session.value},
        Board ${board.value},
        Date of Birth ${dob.value}.
        While studying in this college, she did not participate in any work
        subversive of the state or the college.
        <br><br>
        <span style="display: inline-block; margin-left: ${textIndent}px;">I wish her success and prosperity in life.</span>`;
        
        const formattedDate = formatDate(issue.value, false);
        d_date.innerText = "Date: " + formattedDate;
        
        document.querySelector('.txt.verify').textContent = 'Verified by';
        document.querySelector('.txt.principal').textContent = 'Principal';
    }
    
    updateCertificateTextStyle();
}
</script>

</body>
</html>